(function(){"use strict";var t={3575:function(t,o,e){var n=e(8935),r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("AppNavbar",{attrs:{title:"Granblue Fantasy - Beautify Honors"}}),e("b-container",[e("HonorForm",{attrs:{"prop-expected-honors":t.expectedHonors,"prop-current-honors":t.currentHonors,"prop-has-solution":t.hasSolution},on:{"update:propExpectedHonors":function(o){t.expectedHonors=o},"update:prop-expected-honors":function(o){t.expectedHonors=o},"update:propCurrentHonors":function(o){t.currentHonors=o},"update:prop-current-honors":function(o){t.currentHonors=o},"update:propHasSolution":function(o){t.hasSolution=o},"update:prop-has-solution":function(o){t.hasSolution=o}}}),e("HonorEditableTable",{attrs:{"prop-diff-honors":t.diffHonors,"prop-has-solution":t.hasSolution},on:{"update:propHasSolution":function(o){t.hasSolution=o},"update:prop-has-solution":function(o){t.hasSolution=o}}})],1)],1)},s=[],i=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("b-navbar",{attrs:{variant:"primary",type:"dark"}},[e("b-navbar-brand",{staticClass:"mb-0",attrs:{tag:"h1"}},[t._v(t._s(t.title))]),e("b-navbar-nav",{staticClass:"ml-auto"},[e("b-navbar-brand",{attrs:{href:"https://github.com/qq88976321/gbf-beautify-honors-web"}},[e("b-icon",{attrs:{icon:"github"}})],1)],1)],1)},a=[],l={props:{title:String}},u=l,p=e(1001),c=(0,p.Z)(u,i,a,!1,null,null,null),d=c.exports,f=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"form-group-container"},[e("HonorFormInput",{attrs:{label:"Current Honors","prop-honors":t.currentHonors},on:{"update:propHonors":function(o){t.currentHonors=o},"update:prop-honors":function(o){t.currentHonors=o}}}),e("HonorFormInput",{attrs:{label:"Expected Honors","prop-honors":t.expectedHonors},on:{"update:propHonors":function(o){t.expectedHonors=o},"update:prop-honors":function(o){t.expectedHonors=o}}}),e("b-form-group",{attrs:{state:t.diffHonorsState,"invalid-feedback":t.diffHonorsInvalidFeedback,label:"How many honors do you need to get","label-for":"diff-honors"}},[e("b-form-input",{attrs:{disabled:"",id:"diff-honors",state:t.diffHonorsState,value:t.diffHonors}})],1)],1)},h=[],m=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"form-group-container"},[e("b-form-group",{attrs:{state:t.honorsState,"invalid-feedback":t.honorsInvalidFeedback,label:t.label,"label-for":t.label}},[e("b-form-input",{attrs:{type:"number",id:t.label,state:t.honorsState},model:{value:t.honors,callback:function(o){t.honors=t._n(o)},expression:"honors"}})],1)],1)},b=[],H={props:{label:[String],propHonors:[Number,String]},computed:{honors:{get(){return this.propHonors},set(t){this.$emit("update:propHonors",t)}},honorsState(){return this.propHonors>=0&&this.propHonors<1e11},honorsInvalidFeedback(){return this.propHonors<0?"Expected honors must be a positive integer":this.propHonors>=1e11?"Expected honors must be less than 100 billion.":""}}},v=H,x=(0,p.Z)(v,m,b,!1,null,null,null),g=x.exports,y={components:{HonorFormInput:g},props:{propCurrentHonors:[Number,String],propExpectedHonors:[Number,String],propHasSolution:Boolean},computed:{currentHonors:{get(){return this.propCurrentHonors},set(t){this.$emit("update:propCurrentHonors",t)}},expectedHonors:{get(){return this.propExpectedHonors},set(t){this.$emit("update:propExpectedHonors",t)}},diffHonors(){return this.expectedHonors-this.currentHonors},diffHonorsState(){return this.propHasSolution},diffHonorsInvalidFeedback(){return"There is no solution to achieve the expected honors. Please relax the constraints and try again."}}},S=y,k=(0,p.Z)(S,f,h,!1,null,null,null),_=k.exports,T=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"table-container"},[e("b-button",{staticClass:"button-add-action",attrs:{variant:"primary"},on:{click:function(o){return t.handleAdd()}}},[t._v("Add Action")]),e("b-editable-table",{staticClass:"editable-table",attrs:{rowUpdate:t.rowUpdate,bordered:"",fields:t.fields},on:{"input-change":t.handleInput},scopedSlots:t._u([{key:"cell(delete)",fn:function(o){return[e("BIconTrash",{staticClass:"remove-icon",on:{click:function(e){return t.handleDelete(o)}}})]}},{key:"cell(optimal)",fn:function(o){return[t._v(" "+t._s(t.optimalTimes[o.index])+" ")]}}]),model:{value:t.items,callback:function(o){t.items=o},expression:"items"}})],1)},w=[],E=e(528),Z=e(169),C=e(7054),O=e(8282),B=e(905);let F=[{id:(0,B.Z)(),action:"Eyeball N (0 button)",honors:4e3,maxTimes:10},{id:(0,B.Z)(),action:"Eyeball H (0 button)",honors:6e3,maxTimes:10},{id:(0,B.Z)(),action:"Eyeball VH (0 button)",honors:8e3,maxTimes:10},{id:(0,B.Z)(),action:"Meat Beast VH (0 button)",honors:21400,maxTimes:30},{id:(0,B.Z)(),action:"Meat Beast EX (0 button)",honors:50578,maxTimes:30},{id:(0,B.Z)(),action:"Meat Beast EX+ (0 button)",honors:80800,maxTimes:30},{id:(0,B.Z)(),action:"Meat Beast EX+ (1 summon +)",honors:80810,maxTimes:30},{id:(0,B.Z)(),action:"Join raid and only use Break Assassin",honors:1,maxTimes:10}];var I={async created(){this.glpk=await(0,O.Z)(),await this.solve()},components:{BEditableTable:E.Z,BButton:Z.T,BIconTrash:C.DkS},props:{propDiffHonors:[Number,String],propHasSolution:Boolean},computed:{hasSolution:{get(){return this.propHasSolution},set(t){this.$emit("update:propHasSolution",t)}}},data(){return{glpk:null,currentHonors:0,expectedHonors:0,fields:[{key:"delete",label:""},{key:"action",label:"Action",type:"text",editable:!0,placeholder:"Enter Action...",class:"action-col"},{key:"honors",label:"Honors",type:"number",min:"0",max:"5000000",editable:!0,class:"honors-col"},{key:"maxTimes",label:"Max times",type:"number",min:"0",max:"1000",editable:!0,placeholder:"Enter Max times...",class:"max-times-col"},{key:"optimal",label:"Optimal times",type:"number",editable:!1,class:"optimal-times-col",variant:""}],items:F,optimalTimes:Array(7).fill("-"),rowUpdate:{}}},methods:{handleInput(){},handleAdd(){const t=(0,B.Z)();this.rowUpdate={edit:!1,id:t,action:"add",data:{id:t,action:"New Action",honors:0,maxTimes:10}}},handleDelete(t){this.rowUpdate={id:t.id,action:"delete"}},async solve(){const t={name:"LP",generals:this.items.map((t=>t.id)),objective:{direction:this.glpk.GLP_MIN,name:"obj",vars:this.items.map((t=>({name:t.id,coef:1})))},subjectTo:[{name:"total",vars:this.items.map((t=>({name:t.id,coef:t.honors}))),bnds:{type:this.glpk.GLP_FX,ub:this.propDiffHonors,lb:this.propDiffHonors}},...this.items.map((t=>({name:`max times of ${t.id}, action name=${t.action}`,vars:[{name:t.id,coef:1}],bnds:0==t.maxTimes?{type:this.glpk.GLP_FX,ub:0,lb:0}:{type:this.glpk.GLP_DB,ub:parseInt(t.maxTimes),lb:0}})))]};return this.glpk.solve(t).then((t=>{t.result.status==this.glpk.GLP_OPT?(this.optimalTimes=this.items.map((o=>t.result.vars[o.id])),this.hasSolution=!0):(this.optimalTimes=this.items.map((()=>"-")),this.hasSolution=!1)})).catch((t=>console.log(t)))}},watch:{propDiffHonors:async function(){console.log(this.propDiffHonors),await this.solve()},items:async function(){await this.solve()},hasSolution:function(){this.hasSolution?this.fields[this.fields.length-1].variant="info":this.fields[this.fields.length-1].variant="danger"}}},A=I,P=(0,p.Z)(A,T,w,!1,null,null,null),$=P.exports,j={components:{AppNavbar:d,HonorForm:_,HonorEditableTable:$},computed:{diffHonors(){return this.expectedHonors-this.currentHonors}},data(){return{currentHonors:0,expectedHonors:0,hasSolution:!1}}},M=j,D=(0,p.Z)(M,r,s,!1,null,null,null),N=D.exports,G=e(2576),L=e(3266);e(44);n["default"].use(G.XG7),n["default"].use(L.A7),n["default"].config.productionTip=!1,new n["default"]({render:t=>t(N)}).$mount("#app")}},o={};function e(n){var r=o[n];if(void 0!==r)return r.exports;var s=o[n]={exports:{}};return t[n](s,s.exports,e),s.exports}e.m=t,function(){var t=[];e.O=function(o,n,r,s){if(!n){var i=1/0;for(p=0;p<t.length;p++){n=t[p][0],r=t[p][1],s=t[p][2];for(var a=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(e.O).every((function(t){return e.O[t](n[l])}))?n.splice(l--,1):(a=!1,s<i&&(i=s));if(a){t.splice(p--,1);var u=r();void 0!==u&&(o=u)}}return o}s=s||0;for(var p=t.length;p>0&&t[p-1][2]>s;p--)t[p]=t[p-1];t[p]=[n,r,s]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,n){var r,s,i=n[0],a=n[1],l=n[2],u=0;if(i.some((function(o){return 0!==t[o]}))){for(r in a)e.o(a,r)&&(e.m[r]=a[r]);if(l)var p=l(e)}for(o&&o(n);u<i.length;u++)s=i[u],e.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return e.O(p)},n=self["webpackChunkgbf_beautify_honors_web"]=self["webpackChunkgbf_beautify_honors_web"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(3575)}));n=e.O(n)})();
//# sourceMappingURL=app.a6379bc6.js.map